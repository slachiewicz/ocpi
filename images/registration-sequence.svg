<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="1199px" preserveAspectRatio="none" style="width:764px;height:1199px;" version="1.1" viewBox="0 0 764 1199" width="764px" zoomAndPan="magnify"><defs><filter height="300%" id="f1wthcrlf98qtj" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="190" x="282.5" y="23.5352">OCPI Registration process</text><rect fill="#FFFFFF" filter="url(#f1wthcrlf98qtj)" height="825.0059" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="37" y="337.4609"/><rect fill="#FFFFFF" filter="url(#f1wthcrlf98qtj)" height="29.3105" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="42" y="758.8086"/><rect fill="#FFFFFF" filter="url(#f1wthcrlf98qtj)" height="49.6211" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="42" y="817.4297"/><rect fill="#FFFFFF" filter="url(#f1wthcrlf98qtj)" height="64.9316" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="399" y="151.5977"/><rect fill="#FFFFFF" filter="url(#f1wthcrlf98qtj)" height="49.6211" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="399" y="337.4609"/><rect fill="#FFFFFF" filter="url(#f1wthcrlf98qtj)" height="29.3105" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="399" y="458.7031"/><rect fill="#FFFFFF" filter="url(#f1wthcrlf98qtj)" height="474.2793" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="399" y="617.2559"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="42" x2="42" y1="68.9766" y2="224.5293"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 1.0,4.0;" x1="42" x2="42" y1="224.5293" y2="252.5293"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="42" x2="42" y1="252.5293" y2="1187.4668"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="403.5" x2="403.5" y1="68.9766" y2="224.5293"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 1.0,4.0;" x1="403.5" x2="403.5" y1="224.5293" y2="252.5293"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="403.5" x2="403.5" y1="252.5293" y2="1187.4668"/><rect fill="#FEFECE" filter="url(#f1wthcrlf98qtj)" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="62" x="9" y="33.4883"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="48" x="16" y="54.0234">Sender</text><rect fill="#FEFECE" filter="url(#f1wthcrlf98qtj)" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="71" x="366.5" y="33.4883"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="57" x="373.5" y="54.0234">Receiver</text><rect fill="#FFFFFF" filter="url(#f1wthcrlf98qtj)" height="825.0059" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="37" y="337.4609"/><rect fill="#FFFFFF" filter="url(#f1wthcrlf98qtj)" height="29.3105" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="42" y="758.8086"/><rect fill="#FFFFFF" filter="url(#f1wthcrlf98qtj)" height="49.6211" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="42" y="817.4297"/><rect fill="#FFFFFF" filter="url(#f1wthcrlf98qtj)" height="64.9316" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="399" y="151.5977"/><rect fill="#FFFFFF" filter="url(#f1wthcrlf98qtj)" height="49.6211" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="399" y="337.4609"/><rect fill="#FFFFFF" filter="url(#f1wthcrlf98qtj)" height="29.3105" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="399" y="458.7031"/><rect fill="#FFFFFF" filter="url(#f1wthcrlf98qtj)" height="474.2793" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="399" y="617.2559"/><rect fill="#EEEEEE" filter="url(#f1wthcrlf98qtj)" height="3" style="stroke: #EEEEEE; stroke-width: 1.0;" width="749" x="3" y="99.6318"/><line style="stroke: #000000; stroke-width: 1.0;" x1="3" x2="752" y1="99.6318" y2="99.6318"/><line style="stroke: #000000; stroke-width: 1.0;" x1="3" x2="752" y1="102.6318" y2="102.6318"/><rect fill="#EEEEEE" filter="url(#f1wthcrlf98qtj)" height="23.3105" style="stroke: #000000; stroke-width: 2.0;" width="64" x="345.5" y="88.9766"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="46" x="351.5" y="105.5449">Offline</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="404" x2="451" y1="138.5977" y2="138.5977"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="451" x2="451" y1="138.5977" y2="151.5977"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="410" x2="451" y1="151.5977" y2="151.5977"/><polygon fill="#A80036" points="420,147.5977,410,151.5977,420,155.5977,416,151.5977" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="255" x="416" y="133.8555">Generate token: CREDENTIALS_TOKEN_A</text><polygon fill="#A80036" points="53,212.5293,43,216.5293,53,220.5293,49,216.5293" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="47" x2="403" y1="216.5293" y2="216.5293"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="176" x="59" y="181.166">send information via e-mail</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="160" x="59" y="196.4766">(CREDENTIALS_TOKEN_A,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="297" x="95" y="211.7871">"https://company.com/ocpi/cpo/versions", ...)</text><rect fill="#EEEEEE" filter="url(#f1wthcrlf98qtj)" height="3" style="stroke: #EEEEEE; stroke-width: 1.0;" width="749" x="3" y="273.1846"/><line style="stroke: #000000; stroke-width: 1.0;" x1="3" x2="752" y1="273.1846" y2="273.1846"/><line style="stroke: #000000; stroke-width: 1.0;" x1="3" x2="752" y1="276.1846" y2="276.1846"/><rect fill="#EEEEEE" filter="url(#f1wthcrlf98qtj)" height="23.3105" style="stroke: #000000; stroke-width: 2.0;" width="50" x="352.5" y="262.5293"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="32" x="358.5" y="279.0977">OCPI</text><polygon fill="#A80036" points="387,333.4609,397,337.4609,387,341.4609,391,337.4609" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="47" x2="393" y1="337.4609" y2="337.4609"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="152" x="54" y="332.7188">GET /ocpi/cpo/versions</text><path d="M414,300.8398 L414,355.8398 L693,355.8398 L693,310.8398 L683,300.8398 L414,300.8398 " fill="#FBFB77" filter="url(#f1wthcrlf98qtj)" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M683,300.8398 L683,310.8398 L693,310.8398 L683,300.8398 " fill="#FBFB77" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="258" x="420" y="318.4082">The Sender uses CREDENTIALS_TOKEN_A</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="240" x="420" y="333.7188">as authentication to fetch information</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="114" x="424" y="349.0293">from the Receiver.</text><polygon fill="#A80036" points="58,383.082,48,387.082,58,391.082,54,387.082" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="52" x2="403" y1="387.082" y2="387.082"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="114" x="64" y="382.3398">Available versions</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="47" x2="89" y1="416.3926" y2="416.3926"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="89" x2="89" y1="416.3926" y2="429.3926"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="48" x2="89" y1="429.3926" y2="429.3926"/><polygon fill="#A80036" points="58,425.3926,48,429.3926,58,433.3926,54,429.3926" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="238" x="54" y="411.6504">Pick latest mutual version (e.g. 2.2.1).</text><polygon fill="#A80036" points="387,454.7031,397,458.7031,387,462.7031,391,458.7031" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="47" x2="393" y1="458.7031" y2="458.7031"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="131" x="54" y="453.9609">GET /ocpi/cpo/2.2.1</text><polygon fill="#A80036" points="58,484.0137,48,488.0137,58,492.0137,54,488.0137" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="52" x2="403" y1="488.0137" y2="488.0137"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="189" x="64" y="483.2715">Available endpoints for v2.2.1</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="47" x2="89" y1="517.3242" y2="517.3242"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="89" x2="89" y1="517.3242" y2="530.3242"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="48" x2="89" y1="530.3242" y2="530.3242"/><polygon fill="#A80036" points="58,526.3242,48,530.3242,58,534.3242,54,530.3242" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="176" x="54" y="512.582">Store version and endpoints</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="47" x2="89" y1="559.6348" y2="559.6348"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="89" x2="89" y1="559.6348" y2="572.6348"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="48" x2="89" y1="572.6348" y2="572.6348"/><polygon fill="#A80036" points="58,568.6348,48,572.6348,58,576.6348,54,572.6348" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="253" x="54" y="554.8926">Generate token: CREDENTIALS_TOKEN_B</text><polygon fill="#A80036" points="387,613.2559,397,617.2559,387,621.2559,391,617.2559" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="47" x2="393" y1="617.2559" y2="617.2559"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="215" x="54" y="597.2031">POST /ocpi/cpo/2.2.1/credentials</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="331" x="54" y="612.5137">("/ocpi/emsp/versions", CREDENTIALS_TOKEN_B, ...)</text><path d="M8,630.2559 L8,685.2559 L435,685.2559 L435,640.2559 L425,630.2559 L8,630.2559 " fill="#FBFB77" filter="url(#f1wthcrlf98qtj)" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M425,630.2559 L425,640.2559 L435,640.2559 L425,630.2559 " fill="#FBFB77" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="372" x="14" y="647.8242">The Receiver does not directly respond to the POST request</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="393" x="14" y="663.1348">The Receiver first needs to retrieve the versions and endpoints</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="406" x="14" y="678.4453">from the Sender before responding with CREDENTIALS_TOKEN_C</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="409" x2="451" y1="716.498" y2="716.498"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="451" x2="451" y1="716.498" y2="729.498"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="410" x2="451" y1="729.498" y2="729.498"/><polygon fill="#A80036" points="420,725.498,410,729.498,420,733.498,416,729.498" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="186" x="416" y="711.7559">Store CREDENTIALS_TOKEN_B</text><polygon fill="#A80036" points="63,754.8086,53,758.8086,63,762.8086,59,758.8086" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="57" x2="398" y1="758.8086" y2="758.8086"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="163" x="69" y="754.0664">GET /ocpi/emsp/versions</text><polygon fill="#A80036" points="387,784.1191,397,788.1191,387,792.1191,391,788.1191" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="47" x2="393" y1="788.1191" y2="788.1191"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="114" x="54" y="783.377">Available versions</text><polygon fill="#A80036" points="63,813.4297,53,817.4297,63,821.4297,59,817.4297" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="57" x2="398" y1="817.4297" y2="817.4297"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="142" x="69" y="812.6875">GET /ocpi/emsp/2.2.1</text><polygon fill="#A80036" points="387,863.0508,397,867.0508,387,871.0508,391,867.0508" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="47" x2="393" y1="867.0508" y2="867.0508"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="189" x="54" y="862.3086">Available endpoints for v2.2.1</text><path d="M414,830.4297 L414,885.4297 L723,885.4297 L723,840.4297 L713,830.4297 L414,830.4297 " fill="#FBFB77" filter="url(#f1wthcrlf98qtj)" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M713,830.4297 L713,840.4297 L723,840.4297 L713,830.4297 " fill="#FBFB77" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="288" x="420" y="847.998">The Receiver knows it's version 2.2.1 because</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="286" x="420" y="863.3086">of the endpoint the Sender has used. The URL</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="248" x="420" y="878.6191">is retrieved from the available versions.</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="409" x2="451" y1="916.6719" y2="916.6719"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="451" x2="451" y1="916.6719" y2="929.6719"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="410" x2="451" y1="929.6719" y2="929.6719"/><polygon fill="#A80036" points="420,925.6719,410,929.6719,420,933.6719,416,929.6719" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="176" x="416" y="911.9297">Store version and endpoints</text><path d="M9,942.6719 L9,997.6719 L436,997.6719 L436,952.6719 L426,942.6719 L9,942.6719 " fill="#FBFB77" filter="url(#f1wthcrlf98qtj)" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M426,942.6719 L426,952.6719 L436,952.6719 L426,942.6719 " fill="#FBFB77" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="376" x="28.25" y="960.2402">The Receiver generates CREDENTIALS_TOKEN_C and returns</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="348" x="28.25" y="975.5508">it in the response to the HTTP POST credentials request</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="145" x="28.25" y="990.8613">from the Sender above.</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="409" x2="451" y1="1028.9141" y2="1028.9141"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="451" x2="451" y1="1028.9141" y2="1041.9141"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="410" x2="451" y1="1041.9141" y2="1041.9141"/><polygon fill="#A80036" points="420,1037.9141,410,1041.9141,420,1045.9141,416,1041.9141" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="211" x="416" y="1024.1719">Generate CREDENTIALS_TOKEN_C</text><polygon fill="#A80036" points="58,1087.5352,48,1091.5352,58,1095.5352,54,1091.5352" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="52" x2="403" y1="1091.5352" y2="1091.5352"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="316" x="64" y="1086.793">Credentials with CREDENTIALS_TOKEN_C for eMSP</text><path d="M414,1054.9141 L414,1109.9141 L738,1109.9141 L738,1064.9141 L728,1054.9141 L414,1054.9141 " fill="#FBFB77" filter="url(#f1wthcrlf98qtj)" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M728,1054.9141 L728,1064.9141 L738,1064.9141 L728,1054.9141 " fill="#FBFB77" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="284" x="420" y="1072.4824">By returning new credentials for the Receiver,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="303" x="420" y="1087.793">the initial setup token (CREDENTIALS_TOKEN_A)</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="155" x="420" y="1103.1035">has now become invalid.</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="47" x2="89" y1="1161.4668" y2="1161.4668"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="89" x2="89" y1="1161.4668" y2="1174.4668"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="42" x2="89" y1="1174.4668" y2="1174.4668"/><polygon fill="#A80036" points="52,1170.4668,42,1174.4668,52,1178.4668,48,1174.4668" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="191" x="54" y="1141.4141">Store updated credentials with</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="152" x="54" y="1156.7246">CREDENTIALS_TOKEN_C</text></g></svg>